window.et_panel=window.et_panel||{},function(e){e(document).ready(function(n){window.et_panel=Object.assign(window.et_panel,{instagram_save_options:function(e,t){t.preventDefault(),n(".etheme-instagram-save-info").addClass("hidden"),confirm("Are you sure ?")&&(n(".etheme-instagram-settings").addClass("processing"),t={action:"et_panel_ajax",action_type:"et_instagram_save_settings",time:n("#instagram_time").val(),time_type:n("#instagram_time_type").val(),escape_albums:n("#escape_albums").prop("checked")},n.ajax({type:"POST",url:ajaxurl,data:t,success:function(e){("success"==e.type?n(".etheme-instagram-save-info.info-success"):n(".etheme-instagram-save-info.info-error")).removeClass("hidden"),n(document).find(".etheme-instagram-reinit")[0].click()},error:function(){alert("Error while deleting")},complete:function(){n(".etheme-instagram-settings").removeClass("processing")}}))},instagram_toogle_manual:function(e,t){t.preventDefault();t=n(".etheme-instagram-manual-form");t.hasClass("hidden")?t.removeClass("hidden"):t.addClass("hidden")},instagram_connect_manual:function(e,t){var a;t.preventDefault(),confirm("Are you sure")&&(a=e.parent(),(e={action:"et_panel_ajax",action_type:"et_instagram_user_add",token:n("#etheme-manual-token").val()}).token?(a.find(".etheme-form-error").addClass("hidden"),n.ajax({type:"POST",url:ajaxurl,data:e,dataType:"JSON",success:function(e){"success"!=e.status?(a.find(".etheme-form-error-holder").text(""),a.find(".etheme-form-error-holder").text(e.msg),a.find(".etheme-form-error-holder").removeClass("hidden")):location.reload()},error:function(){alert("Error while deleting")},complete:function(){}})):a.find(".etheme-form-error").removeClass("hidden"))},instagram_user_remove:function(e,t){var a;t.preventDefault(),confirm("Are you sure")&&(e={action:"et_panel_ajax",action_type:"et_instagram_user_remove",token:(a=e.parents(".etheme-user")).find(".user-token").attr("data-token")},n.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){"success"!=e.status||(n(".etheme-user").length<2&&n(".etheme-no-users").removeClass("hidden"),a.remove())},error:function(){alert("Error while deleting")},complete:function(){}}))},instagram_socials_tabs:function(e,t){n(".etheme-social-tabs li").removeClass("active"),e.addClass("active"),n(".etheme-social-tab").addClass("hidden"),n(".etheme-social-"+e.attr("data-network")).removeClass("hidden")},instagram_save_network_options:function(t,e){e.preventDefault(),confirm("Are you sure ?")&&(t.parents(".etheme-div").find(".etheme-network-save-info").addClass("hidden"),t.closest(".etheme-div").addClass("processing"),e={action:"etheme_update_network",helper:"instagram",form:t.closest("form").serializeArray()},n.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){("success"==e.status?t.parents(".etheme-div").find(".etheme-network-save-info.info-success"):t.parents(".etheme-div").find(".etheme-network-save-info.info-error")).removeClass("hidden")},error:function(){alert("Error while deleting")},complete:function(){t.closest(".etheme-div").removeClass("processing")}}))},instagram_call_popup:function(t,e){e.preventDefault(),t.addClass("et-no-events");var a=n(".et_panel-popup");a.html(""),n.ajax({method:"POST",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"instagram",personal:t.attr("data-personal"),business:t.attr("data-business")},success:function(e){a.addClass("loading"),n("body").addClass("et_panel-popup-on"),a.prepend('<span class="et_close-popup et-button-cancel et-button"><i class="et-admin-icon et-delete"></i></span>'),a.addClass("panel-popup-import").append(e.content),t.hasClass("etheme-instagram-auto")&&a.addClass("panel-popup-etheme-instagram-auto"),a.addClass("active").removeClass("loading"),n("#personal").on("change",function(){n(".et-get-token").attr("href",n(this).attr("data-url"))}),n("#business").on("change",function(){n(".et-get-token").attr("href",n(this).attr("data-url"))}),n("#old").on("change",function(){n(".et-get-token").attr("href",n(this).attr("data-url"))}),n(".et-help").on("click",function(){n(this).parent().find(".et-help-content:not(.tooltip)").toggleClass("hidden")})},complete:function(){t.removeClass("et-no-events")}})}});var e={1:{selector:".etheme-instagram-settings .etheme-instagram-save",type:"click",callback:et_panel.instagram_save_options},2:{selector:".etheme-instagram-manual",type:"click",callback:et_panel.instagram_toogle_manual},3:{selector:".etheme-manual-btn",type:"click",callback:et_panel.instagram_connect_manual},4:{selector:".etheme-user .user-remove",type:"click",callback:et_panel.instagram_user_remove},5:{selector:".etheme-social-tabs li",type:"click",callback:et_panel.instagram_socials_tabs},6:{selector:".etheme-network-save",type:"click",callback:et_panel.instagram_save_network_options},7:{selector:".etheme-call-popup",type:"click",callback:et_panel.instagram_call_popup}};n.each(e,function(e,t){"ready"==t.type?n(document).ready(function(e){t.callback(n(this),e)}):n(t.selector).on(t.type,function(e){t.callback(n(this),e)})})})}(jQuery,window.et_panel);